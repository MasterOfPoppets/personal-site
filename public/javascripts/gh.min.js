!function(){"use strict";function emailSendFailure(data,$scope){for(var keys=Object.keys(data.errors),i=0;i<keys.length;i++)"enquiry_name"===keys[i]?$scope.enquiry_name_error=data.errors.enquiry_name:"enquiry_email"===keys[i]?$scope.enquiry_email_error=data.errors.enquiry_email:"enquiry_message"===keys[i]&&($scope.enquiry_message_error=data.errors.enquiry_message)}function emailSendSuccess(data,$scope,$state,$famousAnimations){$scope.exitOpacity=$famousAnimations.animateOut(function(){$state.transitionTo("contact.success")})}angular.module("gh.controllers.contact",[]).controller("ContactCtrl",["$scope","$state","PageFactory",function($scope,$state,PageFactory){$scope.formData={},$scope.submitted=!1,PageFactory.newPage("Contact | Gareth Hughes"),$state.is("contact.form")||$state.transitionTo("contact.form")}]).controller("ContactFormCtrl",["$scope","$http","$state","$famousAnimations",function($scope,$http,$state,$famousAnimations){$scope.submit=function(){var httpPostObject={method:"POST",url:"/contact",data:$scope.formData};$scope.submitted=!0,$http(httpPostObject).success(function(data){data.success?emailSendSuccess(data,$scope,$state,$famousAnimations):emailSendFailure(data,$scope)})}}]).controller("ContactSuccessCtrl",["$scope","$state","$famousAnimations",function($scope,$state,$famousAnimations){$scope.$on("$stateChangeSuccess",function(){$state.is("contact.success")&&($scope.entryOpacity=$famousAnimations.animateIn())})}])}(),function(){"use strict";angular.module("gh.controllers",["gh.controllers.contact","gh.controllers.portfolio","gh.fireblogger"]).controller("GHCtrl",["$scope","$http","PageFactory","Fireblogger",function($scope,$http,PageFactory,Fireblogger){$scope.PageFactory=PageFactory,$http.get("/config.json").success(function(data){$scope.socialLinks=data.socialLinks,$scope.siteLinks=data.siteLinks}),Fireblogger.loadAllPosts()}]).controller("BlogCtrl",["$scope","PageFactory","Fireblogger","$stateParams",function($scope,PageFactory,Fireblogger,$stateParams){$scope.model=Fireblogger.FirebloggerPostModel,$stateParams.id&&Fireblogger.getPost($stateParams.id),PageFactory.newPage("Blog | Gareth Hughes")}]).controller("HomeCtrl",["PageFactory",function(PageFactory){PageFactory.newPage("Gareth Hughes")}]).controller("PlayCtrl",["$scope","PageFactory",function($scope,PageFactory){$scope.isShowPlayItem=PageFactory.showExpandedItem,PageFactory.newPage("Play! | Gareth Hughes")}]).controller("PlayItemCtrl",["$scope","PageFactory",function($scope,PageFactory){$scope.isShowPlayItem=PageFactory.showExpandedItem,$scope.coords={xCoord:1600,yCoord:3150},$scope.testy={imgSrc:"",imgSrc2:"",imgSrc3:"",imgSrc4:""},$scope.test=function(){$scope.testy.imgSrc="images/play/IMG_1129.JPG?w=720"},$scope.test2=function(){$scope.testy.imgSrc2="images/play/IMG_1129.JPG?w=320"},$scope.test3=function(){$scope.testy.imgSrc3="images/play/IMG_1129.JPG?w=720&crop=1200,800,3150,1600"},$scope.test4=function(){$scope.testy.imgSrc4="images/play/IMG_1129.JPG?w=720&crop=1200,800,"+$scope.coords.yCoord+","+$scope.coords.xCoord},PageFactory.newPage("Play! | Gareth Hughes"),PageFactory.setShowExpandedItem(!0)}]).controller("SkillsCtrl",["PageFactory",function(PageFactory){PageFactory.newPage("Skills | Gareth Hughes")}])}(),function(){"use strict";angular.module("gh.controllers.portfolio",[]).controller("PortfolioCtrl",["$scope","PageFactory","$famous",function($scope,PageFactory,$famous){{var Transitionable=$famous["famous/transitions/Transitionable"];$famous["famous/transitions/Easing"]}$scope.angle=new Transitionable(0),$scope.isShowPortfolioItem=PageFactory.showExpandedItem,$scope.test="/images/portfolio/syn_logo.png",$scope.portfolioLinks=[{link:"gbst-syn",image:"/images/portfolio/syn_logo.png"}],$scope.animate=function(){console.log("clicked"),$scope.angle.set(2*Math.PI,{duration:1e3,curve:"easeInOut"})},PageFactory.newPage("Portfolio | Gareth Hughes")}]).controller("PortfolioItemCtrl",["$scope","PageFactory",function($scope,PageFactory){$scope.isShowPortfolioItem=PageFactory.showExpandedItem,PageFactory.newPage("Portfolio | Gareth Hughes"),PageFactory.setShowExpandedItem(!0)}])}(),function(){"use strict";angular.module("gh.factories.famous",[]).factory("$famousAnimations",["$famous",function($famous){return{animateIn:function(callback){var opacity=new $famous["famous/transitions/Transitionable"](0);return opacity.set(1,{duration:500,curve:"easeInOut"},function(){callback&&callback()}),opacity},animateOut:function(callback){var opacity=new $famous["famous/transitions/Transitionable"](1);return opacity.set(0,{duration:500,curve:"easeInOut"},function(){callback&&callback()}),opacity}}}])}(),function(){"use strict";angular.module("gh.factories",["gh.factories.famous"]).factory("PageFactory",function(){var page={showExpandedItem:!1,title:"Gareth Hughes"};return{newPage:function(title){page.showExpandedItem=!1,page.title=title},showExpandedItem:function(){return page.showExpandedItem},setShowExpandedItem:function(showExpandedItem){page.showExpandedItem=showExpandedItem},title:function(){return page.title}}})}(),function(){"use strict";angular.module("GHApp",["gh.controllers","gh.factories","famous.angular","ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function($stateProvider,$urlRouterProvider,$locationProvider){$urlRouterProvider.otherwise("/home"),$locationProvider.html5Mode(!0),$stateProvider.state("home",{url:"/home",templateUrl:"partials/home",controller:"HomeCtrl"}).state("skills",{url:"/skills",templateUrl:"partials/skills",controller:"SkillsCtrl"}).state("portfolio",{url:"/portfolio",templateUrl:"partials/portfolio",controller:"PortfolioCtrl"}).state("portfolio.item",{url:"/{id}",templateUrl:function($stateParams){return"partials/portfolio/"+$stateParams.id},controller:"PortfolioItemCtrl"}).state("play",{url:"/play",templateUrl:"partials/play",controller:"PlayCtrl"}).state("play.item",{url:"/{id}",templateUrl:function($stateParams){return"partials/play/"+$stateParams.id},controller:"PlayItemCtrl"}).state("blog",{url:"/blog",templateUrl:"partials/blog",controller:"BlogCtrl"}).state("blogItem",{url:"/blog/{id}",templateUrl:function($stateParams){return"partials/blog/"+$stateParams.id},controller:"BlogCtrl"}).state("contact",{url:"/contact",templateUrl:"partials/contact",controller:"ContactCtrl"}).state("contact.form",{templateUrl:"partials/contact/contact_form",controller:"ContactFormCtrl"}).state("contact.success",{templateUrl:"partials/contact/contact_success",controller:"ContactSuccessCtrl"})}])}(),function(){"use strict";angular.module("gh.fireblogger",[]).value("fb",new Firebase("https://fiery-heat-3490.firebaseio.com/")).factory("Fireblogger",["fb","$timeout",function(fb,$timeout){var fbBlogEntries=fb.child("blogEntries"),FirebloggerPostModel={posts:[],post:null};return{FirebloggerPostModel:FirebloggerPostModel,getPost:function(postUrl){fbBlogEntries.child(postUrl).once("value",function(snapshot){$timeout(function(){FirebloggerPostModel.post=snapshot.val()})})},loadAllPosts:function(){fbBlogEntries.on("child_added",function(snapshot){$timeout(function(){FirebloggerPostModel.posts.unshift(snapshot.val())})})}}}]).directive("markdown",function(){return{restrict:"E",require:"ngModel",link:function($scope,$elem,$attrs,ngModel){ngModel.$render=function(){var html=marked(ngModel.$viewValue||"");$elem.html(html)}}}})}();